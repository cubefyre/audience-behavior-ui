<div class="modal-header">
    <h3 class="modal-title">Dashboard Email Settings</h3>
</div>
<div class="modal-body">
	<div class="row">&nbsp;</div>
		<div class="row sl-entity" ng-repeat="user in emailSettings" ng-init="formName = 'eform'+ $index">
			<form editable-form name="{{formName}}" onaftersave="saveUser()">
			<div class="col-md-1 text-center">
				{{$index + 1}}
			</div>
			<div class="col-md-2">
				<span editable-text="user.name" e-name="name" e-required> {{user.name}}</span>
			</div>
			<div class="col-md-3">
				<span editable-text="user.email" e-email="email" e-required> {{user.email}}</span>
			</div>			
			<div class="col-md-2">
				<span editable-select="user.group" e-name="group" e-ng-options="g.value as g.text for g in groups">
        			{{ (groups | filter:{value: user.group})[0].text || 'Not set' }}
      			</span>
			</div>			
			<div class="col-md-2">
				<span editable-select="user.frequency" e-name="frequencies" e-ng-options="f.value as f.text for f in frequencies">
        			{{ (frequencies | filter:{value: user.frequency})[0].text || 'Not set' }}
      			</span>
			</div>			
			<div class="col-md-2">
		    	<span ng-show="!{{formName}}.$visible">
					<button type="button" class="btn btn-default" ng-click="{{formName}}.$show()" ng-show="!{{formName}}.$visible">
						<i class="fa fa-pencil"></i>
					</button>
					<button type="button" class="btn btn-default" ng-click="deleteEmail($index)" ng-show="!{{formName}}.$visible"> <i class="fa fa-trash"></i></button>
				</span>
		      <span ng-show="{{formName}}.$visible">
		        	<button type="submit" class="btn btn-primary" ng-disabled="{{formName}}.$waiting">
		          		<i class="fa fa-check"></i>
		        	</button>
		        	<button type="button" class="btn btn-default" ng-disabled="{{formName}}.$waiting" ng-click="{{formName}}.$cancel()">
		        		<i class="fa fa-remove"></i>
		        	</button>
		      </span>								
			</div>			
		</div>
        <div class="row">
        	<div class="col-md-6">
	          	<a class="btn btn-default btn-lg" ng-click="addNewEmailSetting()">
	            	<i class="fa fa-plus-circle"></i> Add New Person
	          	</a>          
        	</div>
      	</div>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="ok()">Save</button>
    <button class="btn btn-default" ng-click="cancel()">Cancel</button>
</div>